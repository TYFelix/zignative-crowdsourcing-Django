{% extends "customer/layout.html" %}
{% load static %}

{% block head %}
    <title>Edit Contest / Zignative Crowdsourcing</title>
    <style>

    </style>
{% endblock %}
{% block body %}
    <div class="container-fluid">
        <ol class="breadcrumb  mb-4 mt-2">
            <li class="breadcrumb-item "><a href="{% url "customer:categories" %}" class="step-link">Categories</a></li>
            <li class="breadcrumb-item active">Edit Contest</li>
        </ol>
        <h3 class="text-center mb-4">Edit Contest</h3>
        <div class="row  ">


            {% block step %}

                <div class="col-lg-3 ">

                    <div class="col-lg-10 mt-2 link-arrow">1. Brief</div>
                    <div class="col-lg-10 mt-2 ">

                        <a class="step-link" href="{% url "customer:ba_edit_contest" contest "step_2" %}">2. Style</a>
                    </div>


                </div>
                <div class="col-lg-7 ">
                    <h5>Name & Description</h5>
                    <div class="form-group">
                        <label for="contest-title">Contest Title</label>
                        <input required type="text" id="contest_title" onkeyup="setDraft(this)"
                               class="form-control">
                    </div>


                    <div class="form-group">
                        <label for="contest_detail">Tell us about your organization and your target audience
                            is</label>
                        <textarea required type="text" id="contest_detail" onkeyup="setDraft(this)"
                                  class="form-control"></textarea>
                    </div>

                    <br>
                    <h5 class="mt-2">Where will the banner ads appear?</h5>
                    <div class="form-group">
                        <label for="contest-title">Apps? Websites? Ad networks? Which ones? </label>
                        <input required type="text" id="ad_appear" onkeyup="setDraft(this)"
                               class="form-control">
                    </div>
                    <br>
                    <h5 class="mt-3">Sizes</h5>
                    <span class="" id="">What sizes of banner ads do you need? Select all that apply.</span>
                    <span class="text-danger" id="warn_logo"
                          style="visibility: hidden">Please choose at least 1 font</span>
                    <div class="row mb-3 justify-content-center">

                        <div id="Medium Rectangle (300x250)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Medium Rectangle</b></h3>
                                <h4 class="text-muted">(300x250)</h4>
                            </div>
                        </div>
                        <div id="Large Rectangle (336x280)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Large Rectangle</b></h3>
                                <h4 class="text-muted">(336x280)</h4>
                            </div>
                        </div>
                        <div id="Leaderboard (728x90)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Leaderboard</b></h3>
                                <h4 class="text-muted">(728x90)</h4>
                            </div>
                        </div>
                        <div id="Large Leaderboard (970x90)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Large Leaderboard</b></h3>
                                <h4 class="text-muted">(970x90)</h4>
                            </div>
                        </div>
                        <div id="Banner (468x60)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Banner</b></h3>
                                <h4 class="text-muted">(468x60)</h4>
                            </div>
                        </div>
                        <div id="Billboard (970x250)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Billboard</b></h3>
                                <h4 class="text-muted">(970x250)</h4>
                            </div>
                        </div>
                        <div id="Half Page (300x600)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Half Page</b></h3>
                                <h4 class="text-muted">(300x600)</h4>
                            </div>
                        </div>
                        <div id="Skyscraper (120x600)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Skyscraper</b></h3>
                                <h4 class="text-muted">(120x600)</h4>
                            </div>
                        </div>
                        <div id="Wide Skyscraper (160x600)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Wide Skyscraper</b></h3>
                                <h4 class="text-muted">(160x600)</h4>
                            </div>
                        </div>
                        <div id="Inline Rectangle (300x250)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Inline Rectangle</b></h3>
                                <h4 class="text-muted">(300x250)</h4>
                            </div>
                        </div>
                        <div id="Square (250x250)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Square</b></h3>
                                <h4 class="text-muted">(250x250)</h4>
                            </div>
                        </div>
                        <div id="Small Square (200x200)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Small Square</b></h3>
                                <h4 class="text-muted">(200x200)</h4>
                            </div>
                        </div>
                        <div id="Large Mobile (320x100)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Large Mobile</b></h3>
                                <h4 class="text-muted">(320x100)</h4>
                            </div>
                        </div>
                        <div id="Mobile Leaderboard (320x50)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Mobile Leaderboard</b></h3>
                                <h4 class="text-muted">(320x50)</h4>
                            </div>
                        </div>
                        <div id="Button (125x125)"
                             class="col-lg-3 logo-element sizes  pt-4 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Button</b></h3>
                                <h4 class="text-muted">(125x125)</h4>
                            </div>
                        </div>
                        <div id="Other"
                             class="col-lg-3 logo-element sizes  pt-5 d-flex justify-content-center mr-2 mt-2">
                            <div style="width:150px; height:150px" class="text-center">
                                <h3 style="font-family: Arial, Helvetica, sans-serif;"><b>Other</b></h3>
                            </div>
                        </div>


                    </div>
                    <br>
                    <h5 class="mt-2">What content should your banner ads include?</h5>
                    <div class="form-group">
                        <label for="contest_detail">Summarize the content you plan to upload, or list the specific
                            content
                            you need included, such as written copy, existing logo, photography, etc.</label>
                        <textarea required type="text" id="ad_include" onkeyup="setDraft(this)"
                                  class="form-control"></textarea>
                    </div>

                    <br>
                    <h5 class="mt-2">Industry</h5>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Please select your industry:</label>
                        <select required class="form-control" onchange="setDraft(this)" id="contest_industry">
                            <option value="">Industry</option>
                            <option>Accounting</option>
                            <option>Automotive</option>
                            <option>Beauty</option>
                            <option>Construction</option>
                            <option>Consulting</option>
                            <option>Dental</option>
                            <option>Education</option>
                            <option>Entertainment</option>
                            <option>Events</option>
                            <option>Financial</option>
                            <option>Home & Garden</option>
                            <option>Insurance</option>
                            <option>Internet</option>
                            <option>Legal</option>
                            <option>Manufacturing & Wholesale</option>
                            <option>Media</option>
                            <option>Medical</option>
                            <option>Miscellaneous</option>
                            <option>Natural Resources</option>
                            <option>Non-Profit</option>
                            <option>Real Estate</option>
                            <option>Religious</option>
                            <option>Restaurant</option>
                            <option>Retail</option>
                            <option>Service Industries</option>
                            <option>Sport</option>
                            <option>Technology</option>
                            <option>Travel & Hospitality</option>

                        </select>
                    </div>
                    <br>
                    <h5 class="mt-2">Do you want to provide any additional info?</h5>
                    <div class="form-group">
                        <label for="contest_detail">Are there specific design elements you want to see? Is there
                            anything
                            you do not want to see? Include links to things that inspired you, competitor information,
                            or
                            any other info. If you need special file formats, please list them here.</label>
                        <textarea  type="text" id="contest_info" onkeyup="setDraft(this)"
                                  class="form-control"></textarea>
                    </div>
                    <br>
                    <button onclick="nextStep()" type="submit" class="btn btn-primary float-right btn-lg mb-5 btn-block">
                        Next
                    </button>

                </div>
            {% endblock %}
        </div>
    </div>



{% endblock %}

{% block script %}
    {{ form_fields|json_script:"form_fields" }}

    {{ contest|json_script:"contest_id" }}
    <script src="{% static "dashboard/js/start_contest.js" %}"></script>
    <script>
        document.onload = fillData()
        var page_in = 0
        const datas = JSON.parse(localStorage.getItem(contest_id))

        if (datas !== null) {
            if ("filled_steps" in datas) {
                if (datas.filled_steps.includes("step_2") && !datas.filled_steps.includes("step_3")) {
                    document.getElementById("nondraft").classList.remove("text-muted")
                    document.getElementById("nondraft").innerHTML = `<a class="step-link" href="{% url "customer:contest_step" contest "step_2" %}">2. Style</a>
`
                }
            } else {
                datas.filled_steps = ["step_1"]
                storageStuff("filled_steps", datas.filled_steps)
            }
        } else {
            storageStuff("filled_steps", ["step_1"])
        }

        function verOdunu() {
            if (localStorage.getItem(contest_id)) {
                const contest = JSON.parse(localStorage.getItem(contest_id))

                postData('{% comment %}{% url "customer:draft_contest" contest %}{% endcomment %}', {"contest": contest})
                    .then(data => {
                        {#console.log(data); // JSON data parsed by `data.json()` call#}
                    });
            } else {
            }
        }

        verOdunu()
        if (localStorage.getItem(contest_id)) {
            const logos = document.getElementsByClassName("logo-element")
            const datas = JSON.parse(localStorage.getItem(contest_id))
            if (datas.selected_sizes) {


                Array.from(logos).forEach(
                    function (element, index, array) {
                        if (datas.selected_sizes.includes(element.id)) {
                            element.classList.add("logo-selected")
                            selected_logos.push(element.id)
                        }
                    })
            }
        }

        function save_as_draft() {
            if (localStorage.getItem(contest_id)) {
                storageStuff("page", "step_5")

                const contest = JSON.parse(localStorage.getItem(contest_id))
                postData('{% url "customer:draft_contest" contest  %}', {"contest": contest})
                    .then(data => {
                        console.log(data);
                    });
            } else {
            }
        }

        function nextStep() {
            save_as_draft()
            window.location = "{% url "customer:ba_edit_contest" contest "step_2" %}"

        }
    </script>

{% endblock %}
